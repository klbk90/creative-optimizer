# AI-Driven Creative Optimizer –¥–ª—è EdTech

## üéØ –ë–∏–∑–Ω–µ—Å-—Ü–µ–ª—å

**–°–Ω–∏–∑–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ (CAC)** –∑–∞ —Å—á–µ—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –∏ –¥–µ—à–µ–≤–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –Ω–∞ –º–∏–∫—Ä–æ-–∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–∞—Ö —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º "—á–µ–º–ø–∏–æ–Ω–æ–≤".

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–ª–æ—É (The Loop)

```
1. INGESTION
   ‚îî‚îÄ> –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ-–∫—Ä–µ–∞—Ç–∏–≤–æ–≤

2. DISCOVERY
   ‚îî‚îÄ> –ü–æ–∏—Å–∫ 50-100 –º–∏–∫—Ä–æ-–∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–æ–≤ (Modash API)
       - 5K‚Äì50K –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
       - Engagement Rate > 3%
       - –ù–∏—à–∞: EdTech (IT, –î–∏–∑–∞–π–Ω, –Ø–∑—ã–∫–∏)

3. TESTING (–ü–µ—Å–æ—á–Ω–∏—Ü–∞)
   ‚îî‚îÄ> –†–∞–∑–¥–∞—á–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö UTM-—Å—Å—ã–ª–æ–∫
       - –ö–∞–∂–¥—ã–π –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç utm_id
       - –ú–∞–ª—ã–π –±—é–¥–∂–µ—Ç ($50-100 per influencer)

4. TRACKING
   ‚îî‚îÄ> RudderStack –ª–æ–≤–∏—Ç —Å–æ–±—ã—Ç–∏—è:
       - Page Viewed ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ UTM —Å–µ—Å—Å–∏–∏
       - Order Completed ‚Üí –ê—Ç—Ä–∏–±—É—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Å–∏–∏

5. ANALYSIS (Post-hoc)
   ‚îî‚îÄ> –î–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –∑–∞–ø—É—Å–∫–∞–µ–º "–≤—Å–∫—Ä—ã—Ç–∏–µ":
       - OpenCV/Librosa: —Ç–µ–º–ø, –∑–≤—É–∫, –ª–∏—Ü–∞
       - Claude Vision: –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ö—É–∫–∏, —ç–º–æ—Ü–∏–∏, –±–æ–ª–∏

6. LEARNING
   ‚îî‚îÄ> Bayesian –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Beta-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)
       - P(conversion | pattern) ‚Üí pattern_performance
       - Thompson Sampling –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

7. SCALE
   ‚îî‚îÄ> –í–µ—Ä–¥–∏–∫—Ç: –∫–∞–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –≤ FB/TikTok
```

---

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|-----------|
| Backend | Python + FastAPI |
| Database | PostgreSQL + SQLAlchemy |
| Data Pipeline | RudderStack (server-side SDK) |
| Influencer API | Modash |
| ML/Stats | scipy.stats (Beta distribution), Thompson Sampling |
| AI Vision | Claude 3.5 Sonnet (Anthropic) |
| Migrations | Alembic |

---

## üóÑ –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ö–ª—é—á–µ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã

#### 1. `users`
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ SaaS –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (multi-tenancy).

#### 2. `creatives`
–í–∏–¥–µ–æ-–∫—Ä–µ–∞—Ç–∏–≤—ã —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏.

**EdTech-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–æ–ª—è:**
- `target_audience_pain`: –ë–æ–ª—å –¶–ê (no_time, too_expensive, fear_failure, etc.)
- `hook_type`: –¢–∏–ø —Ö—É–∫–∞ (question, wait, bold_claim, etc.)
- `emotion`: –≠–º–æ—Ü–∏—è (curiosity, excitement, fear, etc.)
- `pacing`: –¢–µ–º–ø (fast, medium, slow)
- `cta_type`: Call-to-action (urgency, direct, soft, etc.)

#### 3. `traffic_sources`
UTM tracking –¥–ª—è —Ç—Ä–∞—Ñ–∏–∫–∞ –æ—Ç –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–æ–≤.

**–ù–æ–≤—ã–µ –ø–æ–ª—è (v2.0):**
- `creative_id`: –°–≤—è–∑—å —Å –∫—Ä–µ–∞—Ç–∏–≤–æ–º
- `influencer_handle`: Username –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–∞
- `influencer_email`: Email –¥–ª—è outreach
- `influencer_followers`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- `influencer_engagement_rate`: ER * 10000
- `influencer_status`: potential, contacted, agreed, posted, rejected
- `external_id`: RudderStack anonymousId

#### 4. `conversions`
–ö–æ–Ω–≤–µ—Ä—Å–∏–∏ (–ø–æ–∫—É–ø–∫–∏, –ø–æ–¥–ø–∏—Å–∫–∏).

**–ù–æ–≤—ã–µ –ø–æ–ª—è:**
- `external_id`: RudderStack anonymousId –¥–ª—è —Ç–æ—á–Ω–æ–π –∞—Ç—Ä–∏–±—É—Ü–∏–∏

#### 5. `pattern_performance`
–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (–¥–ª—è Markov Chain).

**–ù–æ–≤—ã–µ –ø–æ–ª—è:**
- `pattern_hash`: –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- `target_audience_pain`: EdTech-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –±–æ–ª—å –¶–ê
- `avg_cvr`: –°—Ä–µ–¥–Ω–∏–π CVR * 10000 (Bayesian estimate)
- `confidence_interval_lower/upper`: 95% –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª

#### 6. `user_sessions`
–°–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –∞–≤—Ç–æ–∞—Ç—Ä–∏–±—É—Ü–∏–∏.

---

## üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏

### 1. `database/models.py`
SQLAlchemy –º–æ–¥–µ–ª–∏ –¥–ª—è PostgreSQL.

### 2. `api/routers/rudderstack.py`
**Webhook –¥–ª—è RudderStack:**
- `POST /api/v1/rudderstack/track` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
- `GET /api/v1/rudderstack/thompson-sampling` - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `handle_page_view()` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ UTM —Å–µ—Å—Å–∏–∏
- `handle_order_completed()` - –∞–≤—Ç–æ–∞—Ç—Ä–∏–±—É—Ü–∏—è + Bayesian update
- `bayesian_update_cvr()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ CVR —Å Beta-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º
- `thompson_sampling()` - –≤—ã–±–æ—Ä –ª—É—á—à–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 3. `utils/modash_client.py`
**Modash API –∫–ª–∏–µ–Ω—Ç:**
```python
from utils.modash_client import ModashClient

client = ModashClient(api_key="your_key")

# –ü–æ–∏—Å–∫ –º–∏–∫—Ä–æ-–∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–æ–≤
influencers = client.search_edtech_influencers(
    niche="programming",
    geo=["US", "GB", "CA"],
    min_followers=5000,
    max_followers=50000,
    min_engagement=0.03,
    limit=50
)
```

### 4. `utils/influencer_finder.py`
**–ü–æ–∏—Å–∫ –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–æ–≤ + —Å–æ–∑–¥–∞–Ω–∏–µ traffic sources:**
```python
from utils.influencer_finder import find_and_assign_influencers

results = find_and_assign_influencers(
    creative_id="uuid",
    campaign_tag="edtech_jan_2026",
    niche="programming",
    target_audience_pain="no_time",
    n_influencers=20,
    db=db
)

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# - influencers: –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä—ã
# - traffic_sources: —Å–æ–∑–¥–∞–Ω–Ω—ã–µ UTM —Å—Å—ã–ª–∫–∏
# - outreach_drafts: –≥–æ—Ç–æ–≤—ã–µ –ø–∏—Å—å–º–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
```

### 5. `utils/creative_analyzer.py`
**Claude Vision API –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤:**
```python
from utils.creative_analyzer import CreativeAnalyzer

analyzer = CreativeAnalyzer()

analysis = analyzer.analyze_video(
    video_path="creative.mp4",
    frames_to_analyze=[0, 2, 5, 8]
)

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# {
#   "hook_type": "question",
#   "emotion": "curiosity",
#   "pacing": "fast",
#   "cta_type": "urgency",
#   "features": {...},
#   "confidence": 0.85
# }
```

### 6. `utils/markov_chain.py`
**Markov Chain –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è CVR:**
```python
from utils.markov_chain import MarkovChainPredictor

predictor = MarkovChainPredictor(
    db=db,
    user_id="uuid",
    product_category="language_learning"
)

prediction = predictor.predict_cvr(
    hook_type="question",
    emotion="curiosity",
    pacing="fast",
    cta_type="urgency"
)

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# {
#   "predicted_cvr": 0.125,  # 12.5%
#   "confidence_score": 0.85,
#   "confidence_interval": (0.08, 0.17),
#   "prediction_method": "exact_match"
# }
```

---

## üöÄ Quick Start

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd /Users/aliakseiramanchyk/creative-optimizer

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Python –ø–∞–∫–µ—Ç—ã
pip install -r requirements.txt

# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
cp .env.example .env
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

```env
# Database
DATABASE_URL=postgresql://user:password@localhost:5432/creative_optimizer

# APIs
ANTHROPIC_API_KEY=your_anthropic_key
MODASH_API_KEY=your_modash_key
RUDDERSTACK_WRITE_KEY=your_rudderstack_key

# RudderStack
RUDDERSTACK_DATA_PLANE_URL=https://your-instance.dataplane.rudderstack.com
```

### 3. –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å
alembic downgrade -1
```

### 4. –ó–∞–ø—É—Å–∫ API

```bash
# Development
uvicorn api.main:app --reload --port 8000

# Production
uvicorn api.main:app --host 0.0.0.0 --port 8000
```

### 5. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞

```bash
python test_edtech_pipeline.py
```

---

## üìà –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫—Ä–µ–∞—Ç–∏–≤–∞

```python
from database.base import SessionLocal
from database.models import Creative
from utils.influencer_finder import find_and_assign_influencers
import uuid

db = SessionLocal()

# 1. –°–æ–∑–¥–∞—Ç—å –∫—Ä–µ–∞—Ç–∏–≤
creative = Creative(
    id=uuid.uuid4(),
    user_id="your-user-id",
    name="Python Course Promo",
    creative_type="ugc",
    product_category="programming",
    target_audience_pain="no_time",  # ‚≠ê EdTech-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ
    hook_type="question",
    emotion="curiosity",
    pacing="fast",
    cta_type="urgency",
    status="testing"
)

db.add(creative)
db.commit()

# 2. –ù–∞–π—Ç–∏ –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–æ–≤ –∏ —Å–æ–∑–¥–∞—Ç—å traffic sources
results = find_and_assign_influencers(
    creative_id=str(creative.id),
    campaign_tag="python_jan_2026",
    niche="programming",
    target_audience_pain="no_time",
    n_influencers=20,
    db=db
)

print(f"–ù–∞–π–¥–µ–Ω–æ –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–æ–≤: {len(results['influencers'])}")
print(f"–°–æ–∑–¥–∞–Ω–æ UTM —Å—Å—ã–ª–æ–∫: {len(results['traffic_sources'])}")
print(f"–ü–∏—Å–µ–º –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ: {len(results['outreach_drafts'])}")

# 3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∏—Å—å–º–∞ (manual outreach –∏–ª–∏ —á–µ—Ä–µ–∑ API)
for draft in results['outreach_drafts']:
    print(f"\nTo: {draft['to']}")
    print(f"Subject: {draft['subject']}")
    print(draft['body'])
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ RudderStack —Å–æ–±—ã—Ç–∏–π

**Webhook –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ RudderStack:**

```json
{
  "webhookUrl": "https://your-domain.com/api/v1/rudderstack/track",
  "method": "POST",
  "headers": {
    "Content-Type": "application/json"
  }
}
```

**–°–æ–±—ã—Ç–∏–µ: Page Viewed**

```json
POST /api/v1/rudderstack/track

{
  "event": "Page Viewed",
  "userId": "user_123",
  "anonymousId": "anon_456",
  "properties": {
    "utm_id": "inf_edutech_creator_1_abc123"
  },
  "context": {
    "ip": "192.168.1.1",
    "device": {
      "type": "mobile"
    }
  }
}
```

**–°–æ–±—ã—Ç–∏–µ: Order Completed**

```json
POST /api/v1/rudderstack/track

{
  "event": "Order Completed",
  "userId": "user_123",
  "anonymousId": "anon_456",
  "properties": {
    "order_id": "ord_789",
    "total": 49.00,
    "currency": "USD",
    "product_name": "Python Course"
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ê–≤—Ç–æ–∞—Ç—Ä–∏–±—É—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –∫ `utm_id`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `pattern_performance` —Å Bayesian –º–µ—Ç–æ–¥–æ–º
- –ü–µ—Ä–µ—Å—á–µ—Ç CVR —Å –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: Thompson Sampling —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

```bash
# –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–ø-5 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
curl "http://localhost:8000/api/v1/rudderstack/thompson-sampling?product_category=language_learning&n_recommendations=5"
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "product_category": "language_learning",
  "n_patterns_evaluated": 15,
  "recommendations": [
    {
      "pattern_hash": "hook:question|emo:curiosity|pace:fast|pain:no_time|cta:urgency",
      "hook_type": "question",
      "emotion": "curiosity",
      "thompson_score": 0.158,
      "mean_cvr": 0.145,
      "alpha": 16,
      "beta": 94,
      "sample_size": 10,
      "reasoning": "High confidence winner (n=10)"
    },
    ...
  ]
}
```

---

## üî¨ –ë–∞–π–µ—Å–æ–≤—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Technical Deep Dive)

### –ü–æ—á–µ–º—É Beta-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ?

**Beta-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è conversion rate, –ø–æ—Ç–æ–º—É —á—Ç–æ:

1. **–î–∏–∞–ø–∞–∑–æ–Ω [0, 1]** - –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π
2. **Conjugate prior** - –ª–µ–≥–∫–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
3. **–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
   - `alpha = —É—Å–ø–µ—Ö–∏ + 1`
   - `beta = –Ω–µ—É–¥–∞—á–∏ + 1`

### –§–æ—Ä–º—É–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```python
# Prior
alpha_prior = 1.0  # Uniform prior
beta_prior = 1.0

# Likelihood (–¥–∞–Ω–Ω—ã–µ)
total_conversions = 15
total_clicks = 100

# Posterior
alpha = alpha_prior + total_conversions  # 16
beta = beta_prior + (total_clicks - total_conversions)  # 86

# Expected CVR
mean_cvr = alpha / (alpha + beta)  # 15.7%

# 95% Credible Interval
from scipy.stats import beta as beta_dist
lower = beta_dist.ppf(0.025, alpha, beta)  # 9.8%
upper = beta_dist.ppf(0.975, alpha, beta)  # 23.4%
```

### Thompson Sampling

**–ò–¥–µ—è:** –°—ç–º–ø–ª–∏—Ä—É–µ–º –∏–∑ Beta-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞, –≤—ã–±–∏—Ä–∞–µ–º —Ç–æ–ø-N.

**–ë–∞–ª–∞–Ω—Å Exploration vs Exploitation:**
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å –≤—ã—Å–æ–∫–∏–º CVR –∏ –±–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä–∫–æ–π ‚Üí —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤—ã—Å–æ–∫–∏–π sample (exploit)
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å –º–∞–ª–æ–π –≤—ã–±–æ—Ä–∫–æ–π ‚Üí –≤—ã—Å–æ–∫–∞—è –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å sample (explore)

```python
import random

for pattern in patterns:
    alpha = 1.0 + pattern.total_conversions
    beta = 1.0 + (pattern.total_clicks - pattern.total_conversions)

    # –°—ç–º–ø–ª–∏—Ä—É–µ–º –∏–∑ Beta(alpha, beta)
    thompson_score = random.betavariate(alpha, beta)

# –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ thompson_score (–≤—ã—à–µ = –ª—É—á—à–µ)
# –í–æ–∑–≤—Ä–∞—â–∞–µ–º top-N
```

---

## üéì EdTech Pain Points

### –û—Å–Ω–æ–≤–Ω—ã–µ –±–æ–ª–∏ –¶–ê

| Pain Point | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä —Ö—É–∫–∞ |
|------------|----------|-------------|
| `no_time` | –ù–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ —É—á–∏—Ç—å—Å—è | "Learn Python in 15 min/day" |
| `too_expensive` | –î–æ—Ä–æ–≥–∏–µ –∫—É—Ä—Å—ã | "$5/month instead of $500" |
| `fear_failure` | –°—Ç—Ä–∞—Ö –ø—Ä–æ–≤–∞–ª–∞ | "95% students get jobs" |
| `no_progress` | –ù–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ | "See results in 7 days" |
| `need_career_switch` | –°–º–µ–Ω–∞ –∫–∞—Ä—å–µ—Ä—ã | "From teacher to developer in 6 months" |
| `imposter_syndrome` | –°–∏–Ω–¥—Ä–æ–º —Å–∞–º–æ–∑–≤–∞–Ω—Ü–∞ | "No coding experience? Start here" |
| `info_overload` | –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π | "Only what you need to get hired" |

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–µ

```python
# –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫—Ä–µ–∞—Ç–∏–≤–∞
creative.target_audience_pain = "no_time"

# Pattern performance —É—á–∏—Ç—ã–≤–∞–µ—Ç pain point
pattern_hash = f"hook:{hook}|emo:{emotion}|pain:{pain}|..."

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
recommendations = thompson_sampling(patterns, pain_point="no_time")
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### Key Performance Indicators (KPIs)

1. **CAC Reduction** - –≥–ª–∞–≤–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞
   - –¶–µ–ª—å: —Å–Ω–∏–∑–∏—Ç—å –Ω–∞ 30-50% vs —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π A/B —Ç–µ—Å—Ç

2. **Pattern Discovery Speed**
   - –¶–µ–ª—å: –Ω–∞–π—Ç–∏ winning pattern –∑–∞ <$500 spend

3. **Prediction Accuracy**
   - MAE (Mean Absolute Error) < 3%
   - Hit rate (–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π) > 75%

4. **Thompson Sampling Efficiency**
   - Regret (—É–ø—É—â–µ–Ω–Ω–∞—è –≤—ã–≥–æ–¥–∞) < 15% vs Oracle

---

## üîê Security & Privacy

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

- **Influencer emails:** –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –≤ production (AES-256)
- **Customer PII:** –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è, —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ `customer_id` (hash)
- **RudderStack anonymousId:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞—Ç—Ä–∏–±—É—Ü–∏–∏ –±–µ–∑ PII

### API Keys

**–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ API –∫–ª—é—á–∏!**

```bash
# .gitignore
.env
.env.local
*.key
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω–≤–µ—Ä—Å–∏–∏ –Ω–µ –∞—Ç—Ä–∏–±—É—Ç–∏—Ä—É—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç user_session –¥–ª—è customer_id

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Page Viewed —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç —Å `utm_id`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `customer_id` —Å–æ–≤–ø–∞–¥–∞–µ—Ç –≤ Page Viewed –∏ Order Completed

### –ü—Ä–æ–±–ª–µ–º–∞: Pattern performance –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç `pattern_hash` –∏–ª–∏ `creative_id` –≤ traffic_source

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é: `alembic upgrade head`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `creative.target_audience_pain` –∑–∞–ø–æ–ª–Ω–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞: Modash API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 429 (Rate Limit)

**–†–µ—à–µ–Ω–∏–µ:**
```python
import time

for batch in influencers_batches:
    client.search_influencers(...)
    time.sleep(1)  # Rate limiting
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **Modash API:** https://docs.modash.io/
- **RudderStack:** https://www.rudderstack.com/docs/
- **Claude API:** https://docs.anthropic.com/

### –ù–∞—É—á–Ω—ã–µ —Å—Ç–∞—Ç—å–∏

- **Thompson Sampling:** "Analysis of Thompson Sampling for the Multi-armed Bandit Problem" (Agrawal & Goyal, 2012)
- **Beta-Binomial Model:** "Bayesian Data Analysis" (Gelman et al., 2013)

### –ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- **Alembic migrations:** https://alembic.sqlalchemy.org/
- **SQLAlchemy ORM:** https://docs.sqlalchemy.org/

---

## ü§ù Contributing

–î–ª—è —É–ª—É—á—à–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º—ã:

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞—Ç—å feature branch: `git checkout -b feature/new-analysis`
3. –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π: `git commit -m 'Add new pattern analysis'`
4. Push –≤ branch: `git push origin feature/new-analysis`
5. –û—Ç–∫—Ä—ã—Ç—å Pull Request

---

## üìù Changelog

### v2.0.0 (2026-01-01)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –¥–ª—è micro-influencer tracking
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ EdTech pain points
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Bayesian update —Å Beta-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω Thompson Sampling endpoint
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Modash API
- ‚úÖ –ê–≤—Ç–æ–∞—Ç—Ä–∏–±—É—Ü–∏—è —á–µ—Ä–µ–∑ RudderStack
- ‚úÖ Claude Vision API –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤

---

## üìû Support

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–º–æ—â–∏:
- Email: support@creative-optimizer.com
- Telegram: @creative_optimizer_support
- GitHub Issues: https://github.com/your-org/creative-optimizer/issues

---

**–£–¥–∞—á–∏ –≤ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ CAC! üöÄ**
